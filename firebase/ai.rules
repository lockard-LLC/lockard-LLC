// Firebase AI Logic Security Rules
// These rules control access to AI Logic services

rules_version = '2';

service firebase.ai {
  // Allow authenticated users to access AI Logic services
  match /{document=**} {
    allow read, write: if request.auth != null;
  }
  
  // Allow specific AI Logic operations for authenticated users
  match /generative/{model} {
    allow read, write: if request.auth != null 
      && request.auth.token.email_verified == true;
  }
  
  // Allow streaming operations for authenticated users
  match /stream/{model} {
    allow read, write: if request.auth != null 
      && request.auth.token.email_verified == true;
  }
  
  // Rate limiting rules (implemented in application code)
  match /rate-limit/{userId} {
    allow read, write: if request.auth != null 
      && request.auth.uid == userId;
  }
}
